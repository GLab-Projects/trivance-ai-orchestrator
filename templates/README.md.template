# 🚀 Trivance Platform - Workspace Multi-Repo

**Workspace completo** para desarrollo de Trivance Platform con **gestión automática de environments** y **arquitectura híbrida Docker + PM2**.

## 🏗️ Estructura del Workspace

```
📁 Trivance Platform/
├── 🌐 level_up_backoffice/          # Frontend Admin (React + Vite) - PM2
├── 🚀 ms_level_up_management/       # API Backend (NestJS + GraphQL) - Docker  
├── 🔐 ms_trivance_auth/             # Auth Service (NestJS) - Docker
├── 📱 trivance-mobile/              # Mobile App (React Native + Expo)
├── 🔧 trivance-dev-config/          # Configuraciones y scripts
└── 📄 envs/                         # Configuraciones por environment
```

## 🐳 Arquitectura Híbrida Docker + PM2

- **🗄️ Bases de Datos**: PostgreSQL y MongoDB en Docker
- **🚀 APIs Backend**: NestJS en contenedores Docker
- **🌐 Frontend**: React con PM2 para hot-reload instantáneo
- **📱 Mobile**: Expo con conexión automática a APIs Docker

## ⚡ QUICK START (5 minutos)

### 1️⃣ **Setup Inicial (Solo una vez)**
```bash
# Ya hecho automáticamente durante la configuración inicial
# Si necesitas reconfigurar:
./trivance-dev-config/scripts/envs.sh switch local
```

### 2️⃣ **Iniciar Servicios**
```bash
# Comando principal - menú interactivo
./start.sh

# O directamente iniciar servicios
./start.sh start
```

### 3️⃣ **¡Listo! URLs de Desarrollo**
- **🌐 Frontend Admin**: http://localhost:5173 (PM2)
- **🚀 Management API**: http://localhost:3000 (Docker)
- **🔐 Auth Service**: http://localhost:3001 (Docker)
- **📊 GraphQL Playground**: http://localhost:3000/graphql (Docker)
- **🗄️ PostgreSQL**: localhost:5432 (Docker)
- **🗄️ MongoDB**: localhost:27017 (Docker)
- **📱 Mobile App**: `cd trivance-mobile && npm run start:docker`

## 🎛️ GESTIÓN DE ENVIRONMENTS

### Cambiar Environment en UN Comando
```bash
# Desarrollo local (99% del tiempo)
./trivance-dev-config/scripts/envs.sh switch local

# Testing en QA
./trivance-dev-config/scripts/envs.sh switch qa

# Production (con confirmación)
./trivance-dev-config/scripts/envs.sh switch production
```

### Ver Estado del Sistema
```bash
# Status completo
./trivance-dev-config/scripts/envs.sh status

# Ayuda
./trivance-dev-config/scripts/envs.sh help
```

## 📚 DOCUMENTACIÓN

- **📖 [ENVIRONMENTS.md](ENVIRONMENTS.md)** - Guía completa de environments
- **🔧 [CLAUDE.md](CLAUDE.md)** - Configuración para Claude Code
- **📁 [envs/README.md](envs/README.md)** - Configuraciones específicas

## 🆘 COMANDOS DE EMERGENCIA

```bash
# Parar todos los servicios
./start.sh stop

# Reset completo a local
./trivance-dev-config/scripts/envs.sh switch local

# Verificar health
./start.sh status

# Comandos Docker específicos
docker ps                    # Ver contenedores
docker logs trivance_auth    # Ver logs específicos
docker-compose -f trivance-dev-config/docker/docker-compose.yaml down
```